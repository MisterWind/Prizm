<zui-wrapper
    [appearance]="appearance"
    [readOnly]="readOnly"
    [disabled]="computedDisabled"
    [focused]="computedFocusVisible"
    [hovered]="computedHovered"
    [pressed]="computedPressed"
    [invalid]="computedInvalid"
>
    <div class="toggle">
        <zui-loader
            *ngIf="showLoader"
            class="loader"
            [size]="loaderSize"
            [inheritColor]="true"
            [showLoader]="checked"
        ></zui-loader>
        <span
            polymorpheus-outlet
            class="icon-wrapper"
            [content]="iconOn"
            [context]="{$implicit: size}"
        >
            <ng-template let-icon>
                <zui-svg
                    *ngIf="showIcons && !showLoader"
                    automation-id="zui-toggle__check-icon"
                    class="icon"
                    [src]="icon"
                ></zui-svg>
            </ng-template>
        </span>
        <div class="circle"></div>
        <zui-loader
            *ngIf="showLoader"
            class="loader"
            [size]="loaderSize"
            [inheritColor]="true"
            [showLoader]="!checked"
        ></zui-loader>
        <span
            polymorpheus-outlet
            class="icon-wrapper"
            [content]="iconOff"
            [context]="{$implicit: size}"
        >
            <ng-template let-icon>
                <zui-svg
                    *ngIf="showIcons && !showLoader"
                    automation-id="zui-toggle__cancel-icon"
                    class="icon icon_off"
                    [src]="icon"
                ></zui-svg>
            </ng-template>
        </span>
    </div>
    <input
        #focusableElement
        type="checkbox"
        role="switch"
        automation-id="zui-toggle__checkbox"
        class="checkbox"
        [attr.aria-checked]="value"
        [id]="id"
        [disabled]="disabled"
        [zuiChecked]="checked"
        [zuiFocusable]="focusable"
        (zuiCheckedChange)="onChecked($event)"
        (zuiFocusedChange)="onFocused($event)"
        (zuiHoveredChange)="onHovered($event)"
        (zuiPressedChange)="onPressed($event)"
        (zuiFocusVisibleChange)="onFocusVisible($event)"
    />
</zui-wrapper>
