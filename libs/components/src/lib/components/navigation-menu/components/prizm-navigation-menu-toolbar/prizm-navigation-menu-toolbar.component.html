<div class="prizm-navigation-menu-toolbar" *ngIf="toolbarIsNotEmpty">
  <div class="instruments">
    <ng-container *ngTemplateOutlet="toolbarExtraTemplate"></ng-container>

    <ng-container *ngIf="toolbarService.viewMode$ | async as viewMode">
      <button
        prizmIconButton
        class="instruments__btn"
        [class.instruments__btn_active]="viewMode === 'hierarchy'"
        [size]="'m'"
        [icon]="'files-mode'"
        [appearance]="'secondary'"
        [appearanceType]="'ghost'"
        (click)="toolbarService.changeViewMode('hierarchy')"
      ></button>

      <button
        *ngIf="toolbarConfig.rubricatorMode"
        prizmIconButton
        class="instruments__btn"
        [class.instruments__btn_active]="viewMode === 'rubricator'"
        [size]="'m'"
        [icon]="'editor-alfavit'"
        [appearance]="'secondary'"
        [appearanceType]="'ghost'"
        (click)="toolbarService.changeViewMode('rubricator')"
      ></button>

      <button
        *ngIf="toolbarConfig.folderMode"
        prizmIconButton
        class="instruments__btn"
        [class.instruments__btn_active]="viewMode === 'folder'"
        [size]="'m'"
        [icon]="'files-folder'"
        [appearance]="'secondary'"
        [appearanceType]="'ghost'"
        (click)="toolbarService.changeViewMode('folder')"
      ></button>

      <button
        *ngIf="toolbarConfig.closeAll"
        prizmIconButton
        class="instruments__btn"
        [size]="'m'"
        [icon]="'chevrons-close-all'"
        [appearance]="'secondary'"
        [appearanceType]="'ghost'"
        (click)="toolbarService.closeAll()"
      ></button>

      <button
        *ngIf="toolbarConfig.search"
        prizmIconButton
        class="instruments__btn"
        [class.instruments__btn_active]="toolbarService.searchVisible$ | async"
        [size]="'m'"
        [icon]="'sort-zoom-in'"
        [appearance]="'secondary'"
        [appearanceType]="'ghost'"
        (click)="toolbarService.toggleSearch()"
      ></button>
    </ng-container>
  </div>
</div>

<prizm-navigation-menu-search
  *ngIf="toolbarService.searchVisible$ | async"
  [searchDebounce]="searchConfig.searchDebounce"
  (searchChange)="toolbarService.changeSearchValue($event)"
></prizm-navigation-menu-search>
